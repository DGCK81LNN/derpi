<!DOCTYPE html>
<html lang=cmn-Hans>
<head>
  <meta charset=UTF-8>
  <meta http-equiv=X-UA-Compatible content="IE=edge">
  <meta name=viewport content="width=device-width, initial-scale=1.0">
  <meta name=robots content="noindex">
  <meta name=format-detection content="telephone=no">
  <title>随机小马图++</title>
  <link rel=canonical href="http://dgck81lnn.pony.icu/derpi/">
  <link rel=stylesheet
    href="https://dgck81lnn.github.io/bootstrap-lnn/dist/bootstrap-lnn.min.css"
    crossorigin=anonymous
  >
  <link rel=stylesheet href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.7.0/font/bootstrap-icons.css">
  <link rel=stylesheet href="style.css"><!--?_=-->
  <script defer
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
    crossorigin=anonymous
  ></script>
  <script defer src="meta.js"></script><!--?_=-->
  <script defer src="script.js"></script><!--?_=-->
  <script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script>
</head>
<body>
  <div class="visually-hidden-focusable position-absolute top-0 start-0 p-1 bg-light">
    <a href="#main">跳至正文</a>
  </div>

  <header class="d-flex justify-content-center py-3 mb-4 border-bottom shadow-sm bg-light">
    <span>随机小马图++</span>
  </header>

  <main id=main class="px-2 mx-auto">
    <div id=bootstrap-failed-warning class="alert alert-danger" hidden role=alert>
      <h4 class="alert-heading"><span class=visually-hidden>【错误】</span
        >脚本加载出现问题，本页面将无法使用</h4>
      <p class=mb-0>您可以刷新页面重试，注意不要用太老旧的浏览器。</p>
    </div>

    <section id=intro>
      <figure class=figure>
        <img class="figure-img img-fluid border rounded"
             src="https://derpicdn.net/img/2021/10/12/2722898/medium.jpg"
             width=1779 height=1798>
        <figcaption class="figure-caption d-flex flex-wrap justify-content-between">
          <div><cite lang=en>Twilight</cite>（画师：Saphirapone）</div>
          <div>
            <a rel=nofollow href="https://www.deviantart.com/saphypone/art/Twilight-894698692" target=_blank>原网页</a> |
            <a rel=nofollow href="https://derpibooru.org/images/2722898" target=_blank>Derpibooru</a>
          </div>
        </figcaption>
      </figure>
      <hr>
    </section>

    <section id=browse hidden>
      <h2>浏览</h2>
      <div id=browse-results></div>
      <hr>
    </section>

    <section id=search>
      <form id=search-form>
        <ul class="nav nav-tabs" id=search-tabs role=tablist>
          <li class=nav-item role=presentation>
            <button type=button id=search-tab-foo class="nav-link active" role=tab
              data-bs-toggle=tab data-bs-target=#search-foo
              aria-controls=search-foo aria-selected=true
            >搜索词</button>
          </li>
          <li class=nav-item role=presentation>
            <button type=button id=search-tab-rating class=nav-link role=tab
              data-bs-toggle=tab data-bs-target=#search-rating
              aria-controls=search-rating
            >分级</button>
          </li>
        </ul>
        <div class="tab-content mb-3">
          <div id=search-foo class="tab-pane fade p-2 show active"
            role=tabpanel aria-labelledby=search-tab-foo
          >
            <input name=tags class=form-control placeholder=tags value=ts>
            <div class=form-text>使用 Derpibooru 搜索语法。<a href="search_help.md" target=_blank>帮助</a></div>
          </div>
          <div id=search-rating class="tab-pane fade p-2"
            role=tabpanel aria-labelledby=search-tab-rating
          >
            <fieldset id=search-r34>
              <legend class="col-form-label">色情内容</legend>
              <div class="form-check form-check-inline">
                <input type=radio id=search-r34-none class=form-check-input name=r34 value=n checked>
                <label class=form-check-label for=search-r34-none>全部隐藏</label>
              </div>
              <div class="form-check form-check-inline">
                <input type=radio id=search-r34-suggestive class=form-check-input name=r34 value=s>
                <label class=form-check-label for=search-r34-suggestive>允许性暗示</label>
              </div>
              <div class="form-check form-check-inline">
                <input type=radio id=search-r34-questionable class=form-check-input name=r34 value=q>
                <label class=form-check-label for=search-r34-questionable>允许强烈性暗示</label>
              </div>
              <div class="form-check form-check-inline">
                <input type=radio id=search-r34-explicit class=form-check-input name=r34 value=e>
                <label class=form-check-label for=search-r34-explicit>全部显示</label>
              </div>
            </fieldset>
            <fieldset id=search-dark>
              <legend class=col-form-label>黑暗内容</legend>
              <div class="form-check form-check-inline">
                <input type=radio id=search-dark-none class=form-check-input name=dark value=n checked>
                <label class=form-check-label for=search-dark-none>全部隐藏</label>
              </div>
              <div class="form-check form-check-inline">
                <input type=radio id=search-dark-semi class=form-check-input name=dark value=s>
                <label class=form-check-label for=search-dark-semi>允许轻度黑暗</label>
              </div>
              <div class="form-check form-check-inline">
                <input type=radio id=search-dark-all class=form-check-input name=dark value=a>
                <label class=form-check-label for=search-dark-all>全部显示</label>
              </div>
            </fieldset>
            <fieldset id=search-grotesq>
              <legend class=col-form-label>血腥/恶心内容</legend>
              <div class="form-check form-check-inline">
                <input type=radio id=search-grotesq-no class=form-check-input name=grotesq value=n checked>
                <label class=form-check-label for=search-grotesq-no>隐藏</label>
              </div>
              <div class="form-check form-check-inline">
                <input type=radio id=search-grotesq-yes class=form-check-input name=grotesq value=y>
                <label class=form-check-label for=search-grotesq-yes>显示</label>
              </div>
            </fieldset>
          </div>
        </div>

        <div class=d-flex>
          <button id=search-submit class="btn btn-primary flex-fill">随机小马图！</button>
        </div>
      </form>
    </section>
  </main>

  <footer class="mt-4 px-2 py-4 bg-light border-top">
    <div class=mx-auto style="max-width: 768px">
      <div class="d-flex flex-wrap justify-content-evenly" style="column-gap: 1rem">
        <p>本程序作者 DGCK81LNN</p>
        <p>所有图画来自 <a href="https://derpibooru.org" rel=nofollow>Derpibooru</a></p>
        <p><span id="busuanzi_container_page_pv" style="display:none;">本页面已被访问 <span id="busuanzi_value_page_pv"></span> 次</span></p>
      </div>
      <!--<section class="alert alert-warning">
        <span class=visually-hidden>【警告】</span
        >本程序仅供内部使用，严禁大范围传播！
      </section>-->
    </div>
  </footer>

  <div id=loading-modal class="modal fade" tabindex=-1 aria-hidden=true
    data-bs-backdrop=static data-bs-keyboard=false
  >
    <div class="modal-dialog modal-dialog-centered">
      <div class=modal-content>
        <div class=modal-body>
          <div class="d-flex justify-content-center align-items-center" role=status>
            <div class=spinner-border aria-hidden=true></div>
            <div class="p-2">加载中…</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <template id=result-template>
    <article class="result card">
      <div class=card-img-top>
        <img class=w-100>
      </div>
      <div class=card-body hidden></div>
      <div class="result-details-button card-footer text-center text-info" role=button tabindex=0>
        详情
        <i class=bi-arrow-bar-down aria-hidden=true></i>
      </div>
    </article>
  </template>

  <template id=result-spoiler-template>
    <div class=result-spoilered-overlay>
      <div class=result-spoilered-warning>
        <p class=result-spoilered-message>
          此图片被标记为：
        </p>
        <div>
          <button class="result-spoilered-button btn btn-warning">显示</button>
        </div>
      </div>
    </div>
  </template>

  <template id=result-details-template>
    <section class=card-body>
      <div class=result-loadfull>
        <button class="result-loadfull-button btn btn-success btn-sm">加载原图</button>
      </div>
      <dl class="d-flex mb-2">
        <dt class="me-2 flex-shrink-0">画师</dt>
        <dd class="result-details-artist mb-0"></dd>
      </dl>
      <div>
        <a class=result-details-boorulink target=_blank>Derpibooru</a>
        <span class=result-details-src>
          <span class="vr mx-1"></span>
          <a target=_blank>原网页</a>
          <small class=text-muted>(example.com)</small>
        </span>
      </div>
    </section>
  </template>

  <template id=result-empty-template>
    <p class="text-muted text-center"
      >没有找到符合条件的图片呢qaq</p>
  </template>

  <template id=tag-template>
    <span class="tag badge text-dark bg-light border">
      <ruby>
        <rb class=tag-transl>未知标签</rb>
        <rp>(<rt class=tag-name>unknown tag<rp>)
      </ruby>
    </span>
  </template>

  <template id=button-spinner-template>
    <span role=status aria-hidden=true
      class="spinner-border spinner-border-sm"
    ></span>
  </template>
</body>
</html>
